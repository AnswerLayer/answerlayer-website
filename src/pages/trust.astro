---
/**
 * Trust Page
 *
 * BYOC-focused trust center emphasizing that customer data
 * never leaves their environment. Includes shared responsibility
 * model, security practices, and roadmap.
 */
import Layout from '../layouts/Layout.astro';
---

<Layout
  title="Trust - AnswerLayer"
  description="Your data never leaves your environment. Security architecture, compliance roadmap, and shared responsibility model."
>
  <div class="crt-screen">
    <div class="container mx-auto px-6 py-12 md:py-20" style="padding-top: 6rem;">

      <!-- Hero Section: The BYOC Advantage -->
      <section class="hero-section">
        <div class="hero-card technical-border crt-glow">
          <div class="hero-badge">
            <span class="badge-text crt-badge">BYOC</span>
          </div>
          <h1 class="hero-title crt-text">Your data never leaves your environment</h1>
          <p class="hero-subtitle">
            AnswerLayer deploys to your VPC. Database credentials stay in your cloud.
            Queries run against your data without extraction. We built secure software—you control where it runs.
          </p>
        </div>
      </section>

      <!-- Shared Responsibility Model -->
      <section class="responsibility-section">
        <h2 class="section-title crt-text">Shared Responsibility Model</h2>
        <p class="section-subtitle">Security is a partnership. Here's how responsibilities are divided.</p>

        <div class="responsibility-grid">
          <!-- Your Environment -->
          <div class="responsibility-card your-responsibility">
            <div class="responsibility-header">
              <span class="responsibility-label">You Secure</span>
            </div>
            <ul class="responsibility-list">
              <li>
                <span class="item-icon">&#9632;</span>
                <span class="item-text">VPC and network configuration</span>
              </li>
              <li>
                <span class="item-icon">&#9632;</span>
                <span class="item-text">Database credentials and access</span>
              </li>
              <li>
                <span class="item-icon">&#9632;</span>
                <span class="item-text">IAM roles and policies</span>
              </li>
              <li>
                <span class="item-icon">&#9632;</span>
                <span class="item-text">Infrastructure patching</span>
              </li>
              <li>
                <span class="item-icon">&#9632;</span>
                <span class="item-text">Network security groups</span>
              </li>
              <li>
                <span class="item-icon">&#9632;</span>
                <span class="item-text">Data classification and governance</span>
              </li>
            </ul>
          </div>

          <!-- Divider with diagram -->
          <div class="responsibility-divider">
            <div class="divider-diagram">
              <div class="diagram-box customer-box">
                <span class="box-label">Your VPC</span>
                <div class="inner-box runtime-box">
                  <span class="inner-label">AnswerLayer Runtime</span>
                </div>
              </div>
              <div class="diagram-arrow">&#8595;</div>
              <div class="diagram-box control-box">
                <span class="box-label">Control Plane</span>
              </div>
            </div>
          </div>

          <!-- AnswerLayer Secures -->
          <div class="responsibility-card our-responsibility">
            <div class="responsibility-header">
              <span class="responsibility-label">We Secure</span>
            </div>
            <ul class="responsibility-list">
              <li>
                <span class="item-icon">&#9632;</span>
                <span class="item-text">Application code security</span>
              </li>
              <li>
                <span class="item-icon">&#9632;</span>
                <span class="item-text">Dependency management</span>
              </li>
              <li>
                <span class="item-icon">&#9632;</span>
                <span class="item-text">Control plane infrastructure</span>
              </li>
              <li>
                <span class="item-icon">&#9632;</span>
                <span class="item-text">Secure update delivery</span>
              </li>
              <li>
                <span class="item-icon">&#9632;</span>
                <span class="item-text">Vulnerability scanning</span>
              </li>
              <li>
                <span class="item-icon">&#9632;</span>
                <span class="item-text">Security testing and audits</span>
              </li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Security Practices -->
      <section class="practices-section">
        <h2 class="section-title crt-text">Security Practices</h2>
        <p class="section-subtitle">How we build and deliver secure software.</p>

        <div class="practices-grid">
          <div class="practice-card">
            <div class="practice-header">
              <span class="practice-number">01</span>
              <h3 class="practice-title">Secure Development</h3>
            </div>
            <p class="practice-description">
              Code review required for all changes. Static analysis in CI/CD pipeline.
              Dependency scanning for known vulnerabilities. Security-focused design reviews for new features.
            </p>
          </div>

          <div class="practice-card">
            <div class="practice-header">
              <span class="practice-number">02</span>
              <h3 class="practice-title">Control Plane Security</h3>
            </div>
            <p class="practice-description">
              Lightweight control plane handles updates, telemetry, and license validation.
              No customer data transits through control plane. Encrypted communications only.
            </p>
          </div>

          <div class="practice-card">
            <div class="practice-header">
              <span class="practice-number">03</span>
              <h3 class="practice-title">Deployment Security</h3>
            </div>
            <p class="practice-description">
              VPC-isolated deployment. Database credentials encrypted at rest (AES-256) and in transit (TLS 1.3).
              Query results never leave your environment. Full audit logging of all operations.
            </p>
          </div>

          <div class="practice-card">
            <div class="practice-header">
              <span class="practice-number">04</span>
              <h3 class="practice-title">Access Control</h3>
            </div>
            <p class="practice-description">
              Role-based access at entity and column level. PII detection with configurable blocking or masking.
              Query guardrails prevent expensive or dangerous operations.
            </p>
          </div>
        </div>
      </section>

      <!-- Security Roadmap -->
      <section class="roadmap-section">
        <h2 class="section-title crt-text">Security Roadmap</h2>
        <p class="section-subtitle">Our path to formal compliance certifications.</p>

        <div class="roadmap-timeline">
          <div class="roadmap-item current">
            <div class="roadmap-marker">
              <span class="marker-dot"></span>
              <span class="marker-line"></span>
            </div>
            <div class="roadmap-content">
              <span class="roadmap-status">Current</span>
              <h3 class="roadmap-title">Security Foundations</h3>
              <ul class="roadmap-list">
                <li>Secure development lifecycle</li>
                <li>Penetration testing</li>
                <li>Vulnerability management</li>
                <li>Encrypted credential handling</li>
              </ul>
            </div>
          </div>

          <div class="roadmap-item planned">
            <div class="roadmap-marker">
              <span class="marker-dot"></span>
              <span class="marker-line"></span>
            </div>
            <div class="roadmap-content">
              <span class="roadmap-status">Planned</span>
              <h3 class="roadmap-title">SOC 2 Type II</h3>
              <ul class="roadmap-list">
                <li>Control plane certification</li>
                <li>Security trust criteria</li>
                <li>Availability trust criteria</li>
              </ul>
            </div>
          </div>

          <div class="roadmap-item future">
            <div class="roadmap-marker">
              <span class="marker-dot"></span>
            </div>
            <div class="roadmap-content">
              <span class="roadmap-status">Future</span>
              <h3 class="roadmap-title">Extended Compliance</h3>
              <ul class="roadmap-list">
                <li>ISO 27001 consideration</li>
                <li>HIPAA BAA availability</li>
                <li>Additional frameworks as needed</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <!-- Technical Deep-Dives -->
      <section class="deepdive-section">
        <h2 class="section-title crt-text">Technical Details</h2>
        <p class="section-subtitle">Deep-dive into specific security topics.</p>

        <div class="card-grid">
          <a href="/discover/build-security" class="topic-card">
            <h3 class="card-title">Security Architecture</h3>
            <p class="card-description">VPC deployment, credential encryption, no data export, query logging, role-based access.</p>
          </a>

          <a href="/discover/build-vpc" class="topic-card">
            <h3 class="card-title">VPC Deployment</h3>
            <p class="card-description">Runs in customer infrastructure on AWS, GCP, or Azure. Database credentials remain within your cloud.</p>
          </a>

          <a href="/discover/build-credentials" class="topic-card">
            <h3 class="card-title">Credential Handling</h3>
            <p class="card-description">AES-256 encryption at rest, TLS 1.3 in transit. Credentials loaded into memory only when needed.</p>
          </a>

          <a href="/discover/build-pii" class="topic-card">
            <h3 class="card-title">PII Detection</h3>
            <p class="card-description">AI-powered detection for sensitive data. Block, mask, or allow with audit trail.</p>
          </a>

          <a href="/discover/access-security" class="topic-card">
            <h3 class="card-title">Query Logging</h3>
            <p class="card-description">Full audit trail of all executed queries. See who accessed what, when, and why.</p>
          </a>

          <a href="/discover/build-validation" class="topic-card">
            <h3 class="card-title">Query Guardrails</h3>
            <p class="card-description">Schema validation, operation filtering, row limits, timeout protection. Configurable per role.</p>
          </a>
        </div>
      </section>

    </div>
  </div>
</Layout>

<style>
  /* ----------------------------------------
     Hero Section
     ---------------------------------------- */
  .hero-section {
    margin-bottom: 4rem;
  }

  .hero-card {
    background: transparent;
    padding: 2.5rem;
    text-align: center;
    max-width: 48rem;
    margin: 0 auto;
  }

  .hero-badge {
    margin-bottom: 1.5rem;
  }

  .badge-text {
    display: inline-block;
    font-family: var(--font-mono);
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    color: var(--color-navy-100);
    background: var(--color-navy-900);
    padding: 0.375rem 1rem;
    border: 2px solid var(--color-navy-700);
  }

  .hero-title {
    font-family: 'MS Sans Serif', 'Microsoft Sans Serif', Tahoma, sans-serif;
    font-size: 1.75rem;
    font-weight: 400;
    color: var(--color-navy-900);
    margin: 0 0 1.25rem 0;
    line-height: 1.3;
  }

  @media (min-width: 640px) {
    .hero-title {
      font-size: 2rem;
    }
  }

  .hero-subtitle {
    font-family: var(--font-body);
    font-size: 1rem;
    font-weight: 200;
    color: #374151;
    line-height: 1.75;
    margin: 0;
  }

  /* ----------------------------------------
     Section Styles
     ---------------------------------------- */
  section {
    margin-bottom: 4rem;
  }

  .section-title {
    font-family: var(--font-display);
    font-size: 1.5rem;
    font-weight: 500;
    color: var(--color-navy-900);
    text-transform: uppercase;
    letter-spacing: 0.02em;
    margin: 0 0 0.5rem 0;
    text-align: center;
  }

  .section-subtitle {
    font-family: var(--font-mono);
    font-size: 0.875rem;
    color: var(--color-navy-500);
    text-align: center;
    margin: 0 0 2rem 0;
  }

  /* ----------------------------------------
     Shared Responsibility Model
     ---------------------------------------- */
  .responsibility-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }

  @media (min-width: 1024px) {
    .responsibility-grid {
      grid-template-columns: 1fr auto 1fr;
      gap: 2rem;
    }
  }

  .responsibility-card {
    background: transparent;
    border: 2px solid var(--color-navy-900);
    padding: 1.5rem;
    position: relative;
  }

  .responsibility-card::before {
    content: "";
    position: absolute;
    inset: -6px;
    border: 1px solid var(--color-navy-300);
    pointer-events: none;
  }

  .responsibility-header {
    border-bottom: 2px solid var(--color-navy-900);
    padding-bottom: 0.75rem;
    margin-bottom: 1rem;
  }

  .responsibility-label {
    font-family: var(--font-mono);
    font-size: 0.875rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-navy-900);
  }

  .your-responsibility .responsibility-label {
    color: var(--color-navy-700);
  }

  .our-responsibility .responsibility-label {
    color: var(--color-navy-900);
  }

  .responsibility-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .responsibility-list li {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    margin-bottom: 0.625rem;
  }

  .item-icon {
    color: var(--color-navy-500);
    font-size: 0.5rem;
    line-height: 1.75;
    flex-shrink: 0;
  }

  .item-text {
    font-family: var(--font-body);
    font-size: 0.875rem;
    font-weight: 200;
    color: #374151;
    line-height: 1.5;
  }

  /* Responsibility Divider Diagram */
  .responsibility-divider {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1rem 0;
  }

  @media (min-width: 1024px) {
    .responsibility-divider {
      padding: 0;
    }
  }

  .divider-diagram {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
  }

  .diagram-box {
    border: 2px solid var(--color-navy-500);
    padding: 0.75rem 1rem;
    text-align: center;
    position: relative;
  }

  .customer-box {
    border-style: dashed;
    padding: 1.25rem 1rem 2.5rem 1rem;
  }

  .control-box {
    background: var(--color-navy-900);
  }

  .box-label {
    font-family: var(--font-mono);
    font-size: 0.625rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--color-navy-500);
  }

  .control-box .box-label {
    color: var(--color-navy-300);
  }

  .inner-box {
    border: 2px solid var(--color-navy-400);
    padding: 0.5rem 0.75rem;
    margin-top: 0.5rem;
  }

  .inner-label {
    font-family: var(--font-mono);
    font-size: 0.5rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-navy-600);
  }

  .diagram-arrow {
    font-size: 1.25rem;
    color: var(--color-navy-400);
    line-height: 1;
  }

  /* ----------------------------------------
     Security Practices
     ---------------------------------------- */
  .practices-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }

  @media (min-width: 640px) {
    .practices-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  .practice-card {
    background: transparent;
    border: 2px solid var(--color-navy-900);
    padding: 1.5rem;
    position: relative;
    transition: border-color 0.15s ease;
  }

  .practice-card::before {
    content: "";
    position: absolute;
    inset: -6px;
    border: 1px solid var(--color-navy-300);
    pointer-events: none;
  }

  .practice-card:hover {
    border-color: var(--color-navy-900);
  }

  .practice-header {
    display: flex;
    align-items: baseline;
    gap: 0.75rem;
    margin-bottom: 0.75rem;
  }

  .practice-number {
    font-family: var(--font-mono);
    font-size: 0.75rem;
    color: var(--color-navy-400);
  }

  .practice-title {
    font-family: 'MS Sans Serif', 'Microsoft Sans Serif', Tahoma, sans-serif;
    font-size: 1rem;
    font-weight: 400;
    color: var(--color-navy-900);
    margin: 0;
    text-transform: none;
  }

  .practice-description {
    font-family: var(--font-body);
    font-size: 0.875rem;
    font-weight: 200;
    color: #374151;
    line-height: 1.6;
    margin: 0;
  }

  /* ----------------------------------------
     Security Roadmap
     ---------------------------------------- */
  .roadmap-timeline {
    max-width: 32rem;
    margin: 0 auto;
  }

  .roadmap-item {
    display: flex;
    gap: 1.5rem;
    position: relative;
  }

  .roadmap-marker {
    display: flex;
    flex-direction: column;
    align-items: center;
    flex-shrink: 0;
    width: 1.5rem;
  }

  .marker-dot {
    width: 12px;
    height: 12px;
    border: 2px solid var(--color-navy-400);
    border-radius: 50%;
    background: var(--color-background);
    flex-shrink: 0;
  }

  .current .marker-dot {
    background: var(--color-navy-600);
    border-color: var(--color-navy-600);
  }

  .marker-line {
    width: 2px;
    flex: 1;
    background: var(--color-navy-300);
    margin: 0.5rem 0;
  }

  .roadmap-content {
    padding-bottom: 2rem;
    flex: 1;
  }

  .roadmap-status {
    font-family: var(--font-mono);
    font-size: 0.625rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--color-navy-500);
  }

  .current .roadmap-status {
    color: var(--color-navy-700);
    font-weight: 700;
  }

  .roadmap-title {
    font-family: 'MS Sans Serif', 'Microsoft Sans Serif', Tahoma, sans-serif;
    font-size: 1rem;
    font-weight: 400;
    color: var(--color-navy-900);
    margin: 0.25rem 0 0.75rem 0;
    text-transform: none;
  }

  .roadmap-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .roadmap-list li {
    font-family: var(--font-body);
    font-size: 0.875rem;
    font-weight: 200;
    color: #374151;
    line-height: 1.6;
    padding-left: 1rem;
    position: relative;
  }

  .roadmap-list li::before {
    content: "—";
    position: absolute;
    left: 0;
    color: var(--color-navy-400);
  }

  .planned .roadmap-title,
  .future .roadmap-title {
    color: var(--color-navy-600);
  }

  .planned .roadmap-list li,
  .future .roadmap-list li {
    color: var(--color-navy-500);
  }

  /* ----------------------------------------
     Technical Deep-Dives Card Grid
     ---------------------------------------- */
  .card-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }

  @media (min-width: 640px) {
    .card-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .card-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  .topic-card {
    display: block;
    background: transparent;
    border: 2px solid var(--color-navy-900);
    padding: 1.5rem;
    text-decoration: none;
    transition: all 0.15s ease;
    position: relative;
  }

  .topic-card::before {
    content: "";
    position: absolute;
    inset: -6px;
    border: 1px solid var(--color-navy-300);
    pointer-events: none;
  }

  .topic-card:hover {
    text-decoration: none;
  }

  .card-title {
    font-family: 'MS Sans Serif', 'Microsoft Sans Serif', Tahoma, sans-serif;
    font-size: 1rem;
    font-weight: 400;
    color: var(--color-navy-900);
    margin: 0 0 0.5rem 0;
  }

  .card-description {
    font-family: var(--font-body);
    font-size: 0.875rem;
    font-weight: 200;
    color: #374151;
    line-height: 1.6;
    margin: 0;
  }
</style>
