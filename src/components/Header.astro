---
const currentPath = Astro.url.pathname;

const navLinks = [
  { href: '/how-it-works', label: 'How It Works' },
  { href: '/use-cases', label: 'Use Cases' },
  { href: '/trust', label: 'Trust' },
  { href: '/pricing', label: 'Pricing' },
];
---

<header class="header">
  <div class="header-inner">
    <a href="/" class="logo">
      <img src="/logo.svg" alt="" width="24" height="24" />
      AnswerLayer
    </a>

    <nav class="nav" id="nav">
      {navLinks.map((link, i) => (
        <>
          <a
            href={link.href}
            class:list={[{ active: currentPath === link.href || currentPath.startsWith(link.href + '/') }]}
          >
            {link.label}
          </a>
          {i < navLinks.length - 1 && <span class="nav-separator">|</span>}
        </>
      ))}
      <span class="nav-separator">|</span>
      <a href="https://docs.getanswerlayer.com" target="_blank" rel="noopener">Docs</a>
      <span class="nav-separator">|</span>
      <a href="https://app.getanswerlayer.com/sign-up" class="btn btn-primary">Get Started</a>
    </nav>

    <button class="nav-mobile-toggle" id="nav-toggle" aria-label="Toggle navigation">
      Menu
    </button>
  </div>
</header>

<script>
  const toggle = document.getElementById('nav-toggle');
  const nav = document.getElementById('nav');

  toggle?.addEventListener('click', () => {
    nav?.classList.toggle('open');
  });
</script>

<style>
  .nav a.active {
    color: var(--fg);
    background: var(--border-subtle);
  }
</style>
